{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.unpackSDKMeta = unpackSDKMeta;\nvar _url = _interopRequireDefault(require(\"url\"));\nvar _sdkConstants = require(\"@paypal/sdk-constants\");\nvar _jsxPragmatic = require(\"@krakenjs/jsx-pragmatic\");\nvar _belter = require(\"@krakenjs/belter\");\nvar _constants = require(\"./constants\");\nvar _util = require(\"./util\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nconst emailRegex = /^.+@.+$/;\nfunction validatePaymentsSDKUrl({\n  pathname,\n  query,\n  hash\n}) {\n  if (pathname !== _sdkConstants.SDK_PATH) {\n    throw new Error(`Invalid path for sdk url: ${pathname || \"undefined\"}`);\n  }\n  for (const [key, val] of (0, _util.entries)(query)) {\n    if (!(0, _util.constHas)(_sdkConstants.SDK_QUERY_KEYS, key)) {\n      throw new Error(`Unexpected query key for sdk url: ${key}`);\n    }\n    if (!val) {\n      throw new Error(`Unexpected empty query value for sdk url: ${key}`);\n    }\n    if (typeof val !== \"string\") {\n      throw new TypeError(`Unexpected non-string key for sdk url: ${key}`);\n    }\n    if (!val.match(/^[a-zA-Z0-9+_,-@.]+$/) && !val.match(/^\\*$/)) {\n      throw new Error(`Unexpected characters in query key for sdk url: ${key}=${val}`);\n    }\n    if (key === _sdkConstants.SDK_QUERY_KEYS.MERCHANT_ID && val.includes(\"@\")) {\n      const merchantValues = val.split(\",\");\n      merchantValues.forEach(merchantValue => {\n        if (merchantValue.length > 320) {\n          throw new Error(`Email is too long: ${merchantValue}`);\n        }\n        if (!emailRegex.test(merchantValue)) {\n          throw new Error(`Malformed. merchant email: ${merchantValue}`);\n        }\n      });\n    }\n  }\n  if (hash) {\n    throw new Error(`Expected no hash to be passed in sdk url, got ${hash}`);\n  }\n}\nfunction validateLegacySDKUrl({\n  pathname\n}) {\n  if (!pathname.match(_constants.LEGACY_SDK_PATH)) {\n    throw new Error(`Invalid path for legacy sdk url: ${pathname || \"undefined\"}`);\n  }\n}\nfunction isLegacySDKUrl(hostname, pathname) {\n  const legacyHostnames = [_constants.HOST.PAYPALOBJECTS, _constants.HOST.PAYPALOBJECTS_CHINA];\n  if (legacyHostnames.includes(hostname)) {\n    return true;\n  }\n  const validHostnameEndings = [_constants.HOST.PAYPAL, _constants.HOST.PAYPAL_CHINA, _constants.HOST.PAYPALOBJECTS_QA];\n  const isValidHostname = validHostnameEndings.some(validHostname => hostname.endsWith(validHostname));\n  if (isValidHostname && pathname.match(_constants.LEGACY_SDK_PATH)) {\n    return true;\n  }\n  return false;\n}\nfunction isSDKUrl(hostname) {\n  if (hostname.endsWith(_constants.HOST.PAYPAL) || hostname.endsWith(_constants.HOST.PAYPAL_CHINA)) {\n    return true;\n  }\n  return false;\n}\nfunction isLocalUrl(host) {\n  const localUrls = [_constants.HOST.LOCALHOST_8000, _constants.HOST.LOCALHOST_8443, _constants.HOST.LOCALTUNNEL];\n  return process.env.NODE_ENV === \"development\" && localUrls.some(url => host.includes(url));\n}\nfunction validateHostAndPath(hostname, pathname) {\n  if (!pathname || !hostname) {\n    throw new Error(`Expected host and pathname to be passed for sdk url`);\n  }\n  return {\n    hostname,\n    pathname\n  };\n}\nfunction validateSDKUrl(sdkUrl) {\n  const {\n    protocol,\n    host,\n    hostname: sourceHostname,\n    pathname: sourcePathname,\n    query,\n    hash\n  } = _url.default.parse(sdkUrl, true);\n  const {\n    hostname,\n    pathname\n  } = validateHostAndPath(sourceHostname, sourcePathname);\n  if (!sdkUrl.startsWith(_constants.PROTOCOL.HTTP) && !sdkUrl.startsWith(_constants.PROTOCOL.HTTPS)) {\n    throw new Error(`Expected protocol for sdk url to be ${_constants.PROTOCOL.HTTP} or ${_constants.PROTOCOL.HTTPS} for host: ${hostname} - got ${protocol || \"undefined\"}`);\n  }\n  const hostnameMatchResults = hostname.match(/[a-z0-9\\.\\-]+/);\n  if (!hostnameMatchResults || hostnameMatchResults[0] !== hostname) {\n    throw new Error(`Expected a valid host: ${hostname}`);\n  }\n  if (isLegacySDKUrl(hostname, pathname)) {\n    validateLegacySDKUrl({\n      pathname\n    });\n  } else if (isSDKUrl(hostname)) {\n    if (hostname !== _constants.HOST.LOCALHOST && protocol !== _constants.PROTOCOL.HTTPS) {\n      throw new Error(`Expected protocol for sdk url to be ${_constants.PROTOCOL.HTTPS} for host: ${hostname} - got ${protocol || \"undefined\"}`);\n    }\n    if (sdkUrl.match(/&{2,}/) || sdkUrl.match(/&$/)) {\n      throw new Error(`Expected sdk url to not contain double ampersand or end in ampersand`);\n    }\n    validatePaymentsSDKUrl({\n      protocol,\n      hostname,\n      pathname,\n      query,\n      hash\n    });\n  } else if (host && !isLocalUrl(host)) {\n    throw new Error(`Expected host to be a subdomain of ${_constants.HOST.PAYPAL} or ${_constants.HOST.PAYPALOBJECTS}`);\n  }\n}\nconst getDefaultSDKAttributes = () => {\n  return {};\n};\nconst ALLOWED_ATTRS = [_sdkConstants.SDK_SETTINGS.AMOUNT, _sdkConstants.SDK_SETTINGS.CLIENT_TOKEN, _sdkConstants.SDK_SETTINGS.MERCHANT_ID, _sdkConstants.SDK_SETTINGS.PARTNER_ATTRIBUTION_ID, _sdkConstants.SDK_SETTINGS.POPUPS_DISABLED, _sdkConstants.SDK_SETTINGS.ENABLE_3DS, _sdkConstants.SDK_SETTINGS.SDK_INTEGRATION_SOURCE, _sdkConstants.SDK_SETTINGS.CLIENT_METADATA_ID, _belter.ATTRIBUTES.UID, _sdkConstants.SDK_SETTINGS.CSP_NONCE];\nfunction getSDKScriptAttributes(sdkUrl, allAttrs) {\n  const attrs = getDefaultSDKAttributes();\n  if (sdkUrl) {\n    const {\n      hostname: sourceHostname,\n      pathname: sourcePathname\n    } = _url.default.parse(sdkUrl, true);\n    const {\n      hostname,\n      pathname\n    } = validateHostAndPath(sourceHostname, sourcePathname);\n    if (isLegacySDKUrl(hostname, pathname)) {\n      attrs[_constants.DATA_ATTRIBUTES.PAYPAL_CHECKOUT] = true;\n      attrs[_constants.DATA_ATTRIBUTES.NO_BRIDGE] = true;\n    }\n  }\n  for (const key in allAttrs) {\n    if (ALLOWED_ATTRS.includes(key)) {\n      attrs[key] = allAttrs[key];\n    }\n  }\n  return attrs;\n}\nfunction sanitizeSDKUrl(sdkUrl) {\n  const url = new URL(sdkUrl);\n  if (isLegacySDKUrl(url.hostname, url.pathname)) {\n    url.search = \"\";\n    url.hash = \"\";\n    return url.toString();\n  }\n  return sdkUrl;\n}\nfunction unpackSDKMeta(sdkMeta) {\n  const {\n    url,\n    attrs\n  } = sdkMeta ? JSON.parse(Buffer.from(sdkMeta, \"base64\").toString(\"utf8\")) : _constants.DEFAULT_SDK_META;\n  if (url) {\n    validateSDKUrl(url);\n  }\n  const getSDKLoader = ({\n    baseURL = _constants.DEFAULT_LEGACY_SDK_BASE_URL,\n    nonce = \"\"\n  } = {}) => {\n    if (url) {\n      const validAttrs = getSDKScriptAttributes(url, attrs);\n      const allAttrs = {\n        nonce,\n        src: sanitizeSDKUrl(url),\n        ...validAttrs\n      };\n      return (0, _jsxPragmatic.node)(\"script\", allAttrs).render((0, _jsxPragmatic.html)());\n    }\n    return (0, _jsxPragmatic.node)(\"script\", {\n      nonce: nonce,\n      innerHTML: `\n                    (function() {\n                        function loadScript(url, attributes) {\n                            var scriptTag = '<scr' + 'ipt src=\"' + url + '\" ' + (attributes || '') + '></scr' + 'ipt>';\n                            document.write(scriptTag);\n                        }\n\n                        function loadV4() {\n                            if (!window.name || window.name.indexOf('xcomponent') !== 0) {\n                                return;\n                            }\n\n                            var version = window.name.split('__')[2].replace(/_/g, '.');\n\n                            if (!version.match(/^[0-9a-zA-Z.]+$/)) {\n                                return;\n                            }\n\n                            if (version === '4' || version === 'latest') {\n                                version = '';\n                            }\n\n                            var url = '${baseURL}checkout' + (version ? ('.' + version) : '') + '.js';\n                            var attributes = '${_constants.DATA_ATTRIBUTES.PAYPAL_CHECKOUT} ${_constants.DATA_ATTRIBUTES.NO_BRIDGE}';\n\n                            loadScript(url, attributes);\n                        }\n\n                        function loadV5() {\n                            var ancestor = (window.parent && window.parent !== window)\n                                ? window.parent\n                                : window.opener;\n\n                            if (!ancestor || !ancestor.document) {\n                                return;\n                            }\n\n                            var v5script = ancestor.document.querySelector('script[src*=\"/sdk/js\"]');\n\n                            if (!v5script || !v5script.src) {\n                                return;\n                            }\n\n                            loadScript(v5script.src);\n                        }\n\n                        try {\n                            if (window.paypal && window.paypal.version) {\n                                return;\n                            }\n\n                            loadV4();\n                            loadV5();\n                        } catch (err) {\n                            return;\n                        }\n                    })();\n                `\n    }).render((0, _jsxPragmatic.html)());\n  };\n  return {\n    getSDKLoader\n  };\n}","map":{"version":3,"names":["exports","__esModule","unpackSDKMeta","_url","_interopRequireDefault","require","_sdkConstants","_jsxPragmatic","_belter","_constants","_util","obj","default","emailRegex","validatePaymentsSDKUrl","pathname","query","hash","SDK_PATH","Error","key","val","entries","constHas","SDK_QUERY_KEYS","TypeError","match","MERCHANT_ID","includes","merchantValues","split","forEach","merchantValue","length","test","validateLegacySDKUrl","LEGACY_SDK_PATH","isLegacySDKUrl","hostname","legacyHostnames","HOST","PAYPALOBJECTS","PAYPALOBJECTS_CHINA","validHostnameEndings","PAYPAL","PAYPAL_CHINA","PAYPALOBJECTS_QA","isValidHostname","some","validHostname","endsWith","isSDKUrl","isLocalUrl","host","localUrls","LOCALHOST_8000","LOCALHOST_8443","LOCALTUNNEL","process","env","NODE_ENV","url","validateHostAndPath","validateSDKUrl","sdkUrl","protocol","sourceHostname","sourcePathname","parse","startsWith","PROTOCOL","HTTP","HTTPS","hostnameMatchResults","LOCALHOST","getDefaultSDKAttributes","ALLOWED_ATTRS","SDK_SETTINGS","AMOUNT","CLIENT_TOKEN","PARTNER_ATTRIBUTION_ID","POPUPS_DISABLED","ENABLE_3DS","SDK_INTEGRATION_SOURCE","CLIENT_METADATA_ID","ATTRIBUTES","UID","CSP_NONCE","getSDKScriptAttributes","allAttrs","attrs","DATA_ATTRIBUTES","PAYPAL_CHECKOUT","NO_BRIDGE","sanitizeSDKUrl","URL","search","toString","sdkMeta","JSON","Buffer","from","DEFAULT_SDK_META","getSDKLoader","baseURL","DEFAULT_LEGACY_SDK_BASE_URL","nonce","validAttrs","src","node","render","html","innerHTML"],"sources":["C:/Users/irenv/Desktop/Web2-Front/node_modules/@paypal/sdk-client/server/meta.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.unpackSDKMeta = unpackSDKMeta;\nvar _url = _interopRequireDefault(require(\"url\"));\nvar _sdkConstants = require(\"@paypal/sdk-constants\");\nvar _jsxPragmatic = require(\"@krakenjs/jsx-pragmatic\");\nvar _belter = require(\"@krakenjs/belter\");\nvar _constants = require(\"./constants\");\nvar _util = require(\"./util\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst emailRegex = /^.+@.+$/;\nfunction validatePaymentsSDKUrl({\n  pathname,\n  query,\n  hash\n}) {\n  if (pathname !== _sdkConstants.SDK_PATH) {\n    throw new Error(`Invalid path for sdk url: ${pathname || \"undefined\"}`);\n  }\n  for (const [key, val] of (0, _util.entries)(query)) {\n    if (!(0, _util.constHas)(_sdkConstants.SDK_QUERY_KEYS, key)) {\n      throw new Error(`Unexpected query key for sdk url: ${key}`);\n    }\n    if (!val) {\n      throw new Error(`Unexpected empty query value for sdk url: ${key}`);\n    }\n    if (typeof val !== \"string\") {\n      throw new TypeError(`Unexpected non-string key for sdk url: ${key}`);\n    }\n    if (!val.match(/^[a-zA-Z0-9+_,-@.]+$/) && !val.match(/^\\*$/)) {\n      throw new Error(`Unexpected characters in query key for sdk url: ${key}=${val}`);\n    }\n    if (key === _sdkConstants.SDK_QUERY_KEYS.MERCHANT_ID && val.includes(\"@\")) {\n      const merchantValues = val.split(\",\");\n      merchantValues.forEach(merchantValue => {\n        if (merchantValue.length > 320) {\n          throw new Error(`Email is too long: ${merchantValue}`);\n        }\n        if (!emailRegex.test(merchantValue)) {\n          throw new Error(`Malformed. merchant email: ${merchantValue}`);\n        }\n      });\n    }\n  }\n  if (hash) {\n    throw new Error(`Expected no hash to be passed in sdk url, got ${hash}`);\n  }\n}\nfunction validateLegacySDKUrl({\n  pathname\n}) {\n  if (!pathname.match(_constants.LEGACY_SDK_PATH)) {\n    throw new Error(`Invalid path for legacy sdk url: ${pathname || \"undefined\"}`);\n  }\n}\nfunction isLegacySDKUrl(hostname, pathname) {\n  const legacyHostnames = [_constants.HOST.PAYPALOBJECTS, _constants.HOST.PAYPALOBJECTS_CHINA];\n  if (legacyHostnames.includes(hostname)) {\n    return true;\n  }\n  const validHostnameEndings = [_constants.HOST.PAYPAL, _constants.HOST.PAYPAL_CHINA, _constants.HOST.PAYPALOBJECTS_QA];\n  const isValidHostname = validHostnameEndings.some(validHostname => hostname.endsWith(validHostname));\n  if (isValidHostname && pathname.match(_constants.LEGACY_SDK_PATH)) {\n    return true;\n  }\n  return false;\n}\nfunction isSDKUrl(hostname) {\n  if (hostname.endsWith(_constants.HOST.PAYPAL) || hostname.endsWith(_constants.HOST.PAYPAL_CHINA)) {\n    return true;\n  }\n  return false;\n}\nfunction isLocalUrl(host) {\n  const localUrls = [_constants.HOST.LOCALHOST_8000, _constants.HOST.LOCALHOST_8443, _constants.HOST.LOCALTUNNEL];\n  return process.env.NODE_ENV === \"development\" && localUrls.some(url => host.includes(url));\n}\nfunction validateHostAndPath(hostname, pathname) {\n  if (!pathname || !hostname) {\n    throw new Error(`Expected host and pathname to be passed for sdk url`);\n  }\n  return {\n    hostname,\n    pathname\n  };\n}\nfunction validateSDKUrl(sdkUrl) {\n  const {\n    protocol,\n    host,\n    hostname: sourceHostname,\n    pathname: sourcePathname,\n    query,\n    hash\n  } = _url.default.parse(sdkUrl, true);\n  const {\n    hostname,\n    pathname\n  } = validateHostAndPath(sourceHostname, sourcePathname);\n  if (!sdkUrl.startsWith(_constants.PROTOCOL.HTTP) && !sdkUrl.startsWith(_constants.PROTOCOL.HTTPS)) {\n    throw new Error(`Expected protocol for sdk url to be ${_constants.PROTOCOL.HTTP} or ${_constants.PROTOCOL.HTTPS} for host: ${hostname} - got ${protocol || \"undefined\"}`);\n  }\n  const hostnameMatchResults = hostname.match(/[a-z0-9\\.\\-]+/);\n  if (!hostnameMatchResults || hostnameMatchResults[0] !== hostname) {\n    throw new Error(`Expected a valid host: ${hostname}`);\n  }\n  if (isLegacySDKUrl(hostname, pathname)) {\n    validateLegacySDKUrl({\n      pathname\n    });\n  } else if (isSDKUrl(hostname)) {\n    if (hostname !== _constants.HOST.LOCALHOST && protocol !== _constants.PROTOCOL.HTTPS) {\n      throw new Error(`Expected protocol for sdk url to be ${_constants.PROTOCOL.HTTPS} for host: ${hostname} - got ${protocol || \"undefined\"}`);\n    }\n    if (sdkUrl.match(/&{2,}/) || sdkUrl.match(/&$/)) {\n      throw new Error(`Expected sdk url to not contain double ampersand or end in ampersand`);\n    }\n    validatePaymentsSDKUrl({\n      protocol,\n      hostname,\n      pathname,\n      query,\n      hash\n    });\n  } else if (host && !isLocalUrl(host)) {\n    throw new Error(`Expected host to be a subdomain of ${_constants.HOST.PAYPAL} or ${_constants.HOST.PAYPALOBJECTS}`);\n  }\n}\nconst getDefaultSDKAttributes = () => {\n  return {};\n};\nconst ALLOWED_ATTRS = [_sdkConstants.SDK_SETTINGS.AMOUNT, _sdkConstants.SDK_SETTINGS.CLIENT_TOKEN, _sdkConstants.SDK_SETTINGS.MERCHANT_ID, _sdkConstants.SDK_SETTINGS.PARTNER_ATTRIBUTION_ID, _sdkConstants.SDK_SETTINGS.POPUPS_DISABLED, _sdkConstants.SDK_SETTINGS.ENABLE_3DS, _sdkConstants.SDK_SETTINGS.SDK_INTEGRATION_SOURCE, _sdkConstants.SDK_SETTINGS.CLIENT_METADATA_ID, _belter.ATTRIBUTES.UID, _sdkConstants.SDK_SETTINGS.CSP_NONCE];\nfunction getSDKScriptAttributes(sdkUrl, allAttrs) {\n  const attrs = getDefaultSDKAttributes();\n  if (sdkUrl) {\n    const {\n      hostname: sourceHostname,\n      pathname: sourcePathname\n    } = _url.default.parse(sdkUrl, true);\n    const {\n      hostname,\n      pathname\n    } = validateHostAndPath(sourceHostname, sourcePathname);\n    if (isLegacySDKUrl(hostname, pathname)) {\n      attrs[_constants.DATA_ATTRIBUTES.PAYPAL_CHECKOUT] = true;\n      attrs[_constants.DATA_ATTRIBUTES.NO_BRIDGE] = true;\n    }\n  }\n  for (const key in allAttrs) {\n    if (ALLOWED_ATTRS.includes(key)) {\n      attrs[key] = allAttrs[key];\n    }\n  }\n  return attrs;\n}\nfunction sanitizeSDKUrl(sdkUrl) {\n  const url = new URL(sdkUrl);\n  if (isLegacySDKUrl(url.hostname, url.pathname)) {\n    url.search = \"\";\n    url.hash = \"\";\n    return url.toString();\n  }\n  return sdkUrl;\n}\nfunction unpackSDKMeta(sdkMeta) {\n  const {\n    url,\n    attrs\n  } = sdkMeta ? JSON.parse(Buffer.from(sdkMeta, \"base64\").toString(\"utf8\")) : _constants.DEFAULT_SDK_META;\n  if (url) {\n    validateSDKUrl(url);\n  }\n  const getSDKLoader = ({\n    baseURL = _constants.DEFAULT_LEGACY_SDK_BASE_URL,\n    nonce = \"\"\n  } = {}) => {\n    if (url) {\n      const validAttrs = getSDKScriptAttributes(url, attrs);\n      const allAttrs = {\n        nonce,\n        src: sanitizeSDKUrl(url),\n        ...validAttrs\n      };\n      return (0, _jsxPragmatic.node)(\"script\", allAttrs).render((0, _jsxPragmatic.html)());\n    }\n    return (0, _jsxPragmatic.node)(\"script\", {\n      nonce: nonce,\n      innerHTML: `\n                    (function() {\n                        function loadScript(url, attributes) {\n                            var scriptTag = '<scr' + 'ipt src=\"' + url + '\" ' + (attributes || '') + '></scr' + 'ipt>';\n                            document.write(scriptTag);\n                        }\n\n                        function loadV4() {\n                            if (!window.name || window.name.indexOf('xcomponent') !== 0) {\n                                return;\n                            }\n\n                            var version = window.name.split('__')[2].replace(/_/g, '.');\n\n                            if (!version.match(/^[0-9a-zA-Z.]+$/)) {\n                                return;\n                            }\n\n                            if (version === '4' || version === 'latest') {\n                                version = '';\n                            }\n\n                            var url = '${baseURL}checkout' + (version ? ('.' + version) : '') + '.js';\n                            var attributes = '${_constants.DATA_ATTRIBUTES.PAYPAL_CHECKOUT} ${_constants.DATA_ATTRIBUTES.NO_BRIDGE}';\n\n                            loadScript(url, attributes);\n                        }\n\n                        function loadV5() {\n                            var ancestor = (window.parent && window.parent !== window)\n                                ? window.parent\n                                : window.opener;\n\n                            if (!ancestor || !ancestor.document) {\n                                return;\n                            }\n\n                            var v5script = ancestor.document.querySelector('script[src*=\"/sdk/js\"]');\n\n                            if (!v5script || !v5script.src) {\n                                return;\n                            }\n\n                            loadScript(v5script.src);\n                        }\n\n                        try {\n                            if (window.paypal && window.paypal.version) {\n                                return;\n                            }\n\n                            loadV4();\n                            loadV5();\n                        } catch (err) {\n                            return;\n                        }\n                    })();\n                `\n    }).render((0, _jsxPragmatic.html)());\n  };\n  return {\n    getSDKLoader\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}