{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\irenv\\\\Desktop\\\\Web2-Front\\\\src\\\\components\\\\PaypalCheckoutButton.js\",\n  _s = $RefreshSig$();\nimport { PayPalButtons } from \"@paypal/react-paypal-js\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport { act } from \"react-dom/test-utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PayPalCheckoutButton = props => {\n  _s();\n  const [paidFor, setPaidFor] = useState(false);\n  const navigate = useNavigate();\n  const [error, setError] = useState(null);\n  const {\n    product\n  } = props;\n  const handleApprove = orderId => {\n    //pucam na pek imam orderId\n    //if response==true\n    setPaidFor(true);\n    //if response is error\n  };\n\n  if (paidFor) {\n    //direct uset to success page\n    //alert(\"Thank you for your purchase!\");\n    navigate(\"/ulogovan-korisnik/prethodne-porudzbine\");\n  }\n  if (error) {\n    // Display error message, modal or redirect user to error page\n    alert(error);\n  }\n  return /*#__PURE__*/_jsxDEV(PayPalButtons, {\n    style: {\n      color: \"silver\",\n      layout: \"horizontal\",\n      height: 48,\n      tagline: false,\n      shape: \"pill\"\n    },\n    createOrder: (data, actions) => {\n      return actions.order.create({\n        purchase_units: [{\n          description: product.description,\n          amount: {\n            value: product.price\n          }\n        }]\n      });\n    },\n    onClick: (data, actions) => {\n      // Validate on button click, client or server side\n      const hasAlreadyBoughtCourse = false;\n      if (hasAlreadyBoughtCourse) {\n        setError(\"You already bought this course. Go to your account to view your list of courses.\");\n        return actions.reject();\n      } else {\n        return actions.resolve();\n      }\n    },\n    onApprove: async (data, actions) => {\n      const order = await actions.order.capture();\n      console.log(\"order\", order);\n      handleApprove(data.orderID);\n    },\n    onError: err => {\n      setError(err);\n      console.error(\"PayPal Checkout onError\", err);\n    },\n    onCancel: () => {\n      // Display cancel message, modal or redirect user to cancel page or back to cart\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n};\n_s(PayPalCheckoutButton, \"bOnjGMHjZWuUXItsU0ZFJS17EIk=\", false, function () {\n  return [useNavigate];\n});\n_c = PayPalCheckoutButton;\nexport default PayPalCheckoutButton;\nvar _c;\n$RefreshReg$(_c, \"PayPalCheckoutButton\");","map":{"version":3,"names":["PayPalButtons","useNavigate","useState","act","jsxDEV","_jsxDEV","PayPalCheckoutButton","props","_s","paidFor","setPaidFor","navigate","error","setError","product","handleApprove","orderId","alert","style","color","layout","height","tagline","shape","createOrder","data","actions","order","create","purchase_units","description","amount","value","price","onClick","hasAlreadyBoughtCourse","reject","resolve","onApprove","capture","console","log","orderID","onError","err","onCancel","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/irenv/Desktop/Web2-Front/src/components/PaypalCheckoutButton.js"],"sourcesContent":["import { PayPalButtons } from \"@paypal/react-paypal-js\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\nimport { act } from \"react-dom/test-utils\";\r\nconst PayPalCheckoutButton = (props) => {\r\n  const [paidFor, setPaidFor] = useState(false);\r\n  const navigate = useNavigate();\r\n  const [error, setError] = useState(null);\r\n  const { product } = props;\r\n  const handleApprove = (orderId) => {\r\n    //pucam na pek imam orderId\r\n    //if response==true\r\n    setPaidFor(true);\r\n    //if response is error\r\n  };\r\n\r\n  if (paidFor) {\r\n    //direct uset to success page\r\n    //alert(\"Thank you for your purchase!\");\r\n    navigate(\"/ulogovan-korisnik/prethodne-porudzbine\");\r\n  }\r\n  if (error) {\r\n    // Display error message, modal or redirect user to error page\r\n    alert(error);\r\n  }\r\n\r\n  return (\r\n    <PayPalButtons\r\n      style={{\r\n        color: \"silver\",\r\n        layout: \"horizontal\",\r\n        height: 48,\r\n        tagline: false,\r\n        shape: \"pill\",\r\n      }}\r\n      createOrder={(data, actions) => {\r\n        return actions.order.create({\r\n          purchase_units: [\r\n            {\r\n              description: product.description,\r\n              amount: {\r\n                value: product.price,\r\n              },\r\n            },\r\n          ],\r\n        });\r\n      }}\r\n      onClick={(data, actions) => {\r\n        // Validate on button click, client or server side\r\n        const hasAlreadyBoughtCourse = false;\r\n      \r\n        if (hasAlreadyBoughtCourse) {\r\n          setError(\r\n            \"You already bought this course. Go to your account to view your list of courses.\"\r\n          );\r\n      \r\n          return actions.reject();\r\n        } else {\r\n          return actions.resolve();\r\n        }\r\n      }}\r\n      onApprove={async (data, actions) => {\r\n        const order = await actions.order.capture();\r\n        console.log(\"order\", order);\r\n        handleApprove(data.orderID);\r\n      }}\r\n      onError={(err) => {\r\n        setError(err);\r\n        console.error(\"PayPal Checkout onError\", err);\r\n      }}\r\n      onCancel={() => {\r\n        // Display cancel message, modal or redirect user to cancel page or back to cart\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PayPalCheckoutButton;\r\n"],"mappings":";;AAAA,SAASA,aAAa,QAAQ,yBAAyB;AACvD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAASC,GAAG,QAAQ,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC3C,MAAMC,oBAAoB,GAAIC,KAAK,IAAK;EAAAC,EAAA;EACtC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAMS,QAAQ,GAAGV,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM;IAAEY;EAAQ,CAAC,GAAGP,KAAK;EACzB,MAAMQ,aAAa,GAAIC,OAAO,IAAK;IACjC;IACA;IACAN,UAAU,CAAC,IAAI,CAAC;IAChB;EACF,CAAC;;EAED,IAAID,OAAO,EAAE;IACX;IACA;IACAE,QAAQ,CAAC,yCAAyC,CAAC;EACrD;EACA,IAAIC,KAAK,EAAE;IACT;IACAK,KAAK,CAACL,KAAK,CAAC;EACd;EAEA,oBACEP,OAAA,CAACL,aAAa;IACZkB,KAAK,EAAE;MACLC,KAAK,EAAE,QAAQ;MACfC,MAAM,EAAE,YAAY;MACpBC,MAAM,EAAE,EAAE;MACVC,OAAO,EAAE,KAAK;MACdC,KAAK,EAAE;IACT,CAAE;IACFC,WAAW,EAAEA,CAACC,IAAI,EAAEC,OAAO,KAAK;MAC9B,OAAOA,OAAO,CAACC,KAAK,CAACC,MAAM,CAAC;QAC1BC,cAAc,EAAE,CACd;UACEC,WAAW,EAAEhB,OAAO,CAACgB,WAAW;UAChCC,MAAM,EAAE;YACNC,KAAK,EAAElB,OAAO,CAACmB;UACjB;QACF,CAAC;MAEL,CAAC,CAAC;IACJ,CAAE;IACFC,OAAO,EAAEA,CAACT,IAAI,EAAEC,OAAO,KAAK;MAC1B;MACA,MAAMS,sBAAsB,GAAG,KAAK;MAEpC,IAAIA,sBAAsB,EAAE;QAC1BtB,QAAQ,CACN,kFACF,CAAC;QAED,OAAOa,OAAO,CAACU,MAAM,CAAC,CAAC;MACzB,CAAC,MAAM;QACL,OAAOV,OAAO,CAACW,OAAO,CAAC,CAAC;MAC1B;IACF,CAAE;IACFC,SAAS,EAAE,MAAAA,CAAOb,IAAI,EAAEC,OAAO,KAAK;MAClC,MAAMC,KAAK,GAAG,MAAMD,OAAO,CAACC,KAAK,CAACY,OAAO,CAAC,CAAC;MAC3CC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEd,KAAK,CAAC;MAC3BZ,aAAa,CAACU,IAAI,CAACiB,OAAO,CAAC;IAC7B,CAAE;IACFC,OAAO,EAAGC,GAAG,IAAK;MAChB/B,QAAQ,CAAC+B,GAAG,CAAC;MACbJ,OAAO,CAAC5B,KAAK,CAAC,yBAAyB,EAAEgC,GAAG,CAAC;IAC/C,CAAE;IACFC,QAAQ,EAAEA,CAAA,KAAM;MACd;IAAA;EACA;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEN,CAAC;AAACzC,EAAA,CAvEIF,oBAAoB;EAAA,QAEPL,WAAW;AAAA;AAAAiD,EAAA,GAFxB5C,oBAAoB;AAyE1B,eAAeA,oBAAoB;AAAC,IAAA4C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}