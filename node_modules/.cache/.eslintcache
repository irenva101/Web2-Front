[{"C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\index.js":"1","C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\App.js":"2","C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\reportWebVitals.js":"3","C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\PocetnaStranica.js":"4","C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\UlogovanKorisnik.js":"5","C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\Registracija.js":"6","C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\DodavanjeArtikla.js":"7","C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\Logovanje.js":"8","C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\Profil.js":"9","C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\PrethodnePorudzbine.js":"10","C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\StarePorudzbine.js":"11","C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\NovePorudzbine.js":"12","C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\Verifikacija.js":"13","C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\PregledArtikala.js":"14","C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\PrikazVerifikacija.js":"15","C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\SvePorudzbine.js":"16","C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\helpers\\ProtectedRoute.js":"17","C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\DetaljiArtikla.js":"18","C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\Korpa.js":"19","C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\services\\ArtikalService.js":"20","C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\services\\KorisnikService.js":"21"},{"size":554,"mtime":1692096003086,"results":"22","hashOfConfig":"23"},{"size":4385,"mtime":1692196143352,"results":"24","hashOfConfig":"23"},{"size":375,"mtime":1692096003086,"results":"25","hashOfConfig":"23"},{"size":382,"mtime":1692096003086,"results":"26","hashOfConfig":"23"},{"size":1845,"mtime":1692096003086,"results":"27","hashOfConfig":"23"},{"size":8937,"mtime":1692321525409,"results":"28","hashOfConfig":"23"},{"size":10394,"mtime":1692096003086,"results":"29","hashOfConfig":"23"},{"size":2334,"mtime":1692096003086,"results":"30","hashOfConfig":"23"},{"size":8706,"mtime":1692098945893,"results":"31","hashOfConfig":"23"},{"size":9131,"mtime":1692396326140,"results":"32","hashOfConfig":"23"},{"size":4097,"mtime":1692227875678,"results":"33","hashOfConfig":"23"},{"size":2478,"mtime":1692096003086,"results":"34","hashOfConfig":"23"},{"size":7074,"mtime":1692357492520,"results":"35","hashOfConfig":"23"},{"size":15977,"mtime":1692389781760,"results":"36","hashOfConfig":"23"},{"size":3791,"mtime":1692357397212,"results":"37","hashOfConfig":"23"},{"size":5383,"mtime":1692313251405,"results":"38","hashOfConfig":"23"},{"size":973,"mtime":1692096003086,"results":"39","hashOfConfig":"23"},{"size":739,"mtime":1692096003086,"results":"40","hashOfConfig":"23"},{"size":731,"mtime":1692096003086,"results":"41","hashOfConfig":"23"},{"size":751,"mtime":1692096003086,"results":"42","hashOfConfig":"23"},{"size":790,"mtime":1692096003086,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1b92ind",{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"86","messages":"87","suppressedMessages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","suppressedMessages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"93"},{"filePath":"94","messages":"95","suppressedMessages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","suppressedMessages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","suppressedMessages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","suppressedMessages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"106","messages":"107","suppressedMessages":"108","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\index.js",[],[],"C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\App.js",["109","110"],[],"C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\reportWebVitals.js",[],[],"C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\PocetnaStranica.js",[],[],"C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\UlogovanKorisnik.js",[],[],"C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\Registracija.js",["111","112","113","114"],[],"C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\DodavanjeArtikla.js",["115","116","117"],[],"C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\Logovanje.js",["118"],[],"C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\Profil.js",["119"],[],"C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\PrethodnePorudzbine.js",["120","121","122"],[],"C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\StarePorudzbine.js",["123"],[],"C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\NovePorudzbine.js",[],[],"C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\Verifikacija.js",["124"],[],"C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\PregledArtikala.js",["125","126","127","128","129","130","131"],[],"C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\PrikazVerifikacija.js",[],[],"C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\SvePorudzbine.js",["132","133"],[],"import React, { useEffect, useState } from \"react\";\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\nconst SvePorudzbine = () => {\r\n  var token = localStorage.getItem(\"token\");\r\n  const decodedToken = jwtDecode(token);\r\n  console.log(decodedToken[\"Id\"]);\r\n\r\n  const [porudzbine, setPorudzbine] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [korisnici, setKorisnike] = useState([]);\r\n  // Novo stanje za praćenje preostalog vremena\r\n  const [preostaloVreme, setPreostaloVreme] = useState({});\r\n\r\n  //funkcija koja nam formatira datum iz 2023-08-12T17:06:22.196 u 12-08-2023 17:06 i govori status\r\n  const formatDateGetStatus = (dateString, otkazana) => {\r\n    const options = {\r\n      year: \"numeric\",\r\n      month: \"2-digit\",\r\n      day: \"2-digit\",\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n      second: \"2-digit\",\r\n      hour12: false,\r\n    };\r\n\r\n    const date = new Date(dateString);\r\n    const currentTime = new Date();\r\n\r\n    if (date <= currentTime) {\r\n      return <span style={{ color: \"green\" }}>Isporuceno</span>;\r\n    } else if(otkazana){\r\n      return <span style={{ color: \"red\" }}>Otkazana</span>;\r\n    }else{\r\n      \r\n      return <span style={{ color: \"orange\" }}>U toku je isporuka...</span>;\r\n    }\r\n  };\r\n\r\n  //funcija koja na idKorisnika daje njegov username\r\n  const getUsernameKorisnika = (id) => {\r\n    const korisnik = korisnici.find((korisnik) => korisnik.id === id);\r\n    return korisnik ? korisnik.korisnickoIme : \"Nepoznat korisnik\";\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetch(`https://localhost:44388/Porudzbina/allPorudzbine`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      mode: \"cors\",\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setPorudzbine(data);\r\n        setLoading(false);\r\n        console.log(data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Greska prilikom dohvatanja svih porudzbina sa servera.\");\r\n      });\r\n\r\n    fetch(`https://localhost:44388/Korisnik/allKorisnike`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Contetnt-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      mode: \"cors\",\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setKorisnike(data);\r\n        console.log(data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Greska prilikom dohvatanja svih korisnika sa servera.\");\r\n      });\r\n  }, []);\r\n\r\n  // Funkcija za izračunavanje preostalog vremena\r\n  const calculateRemainingTime = (endTime) => {\r\n    const currentTime = new Date().getTime();\r\n    const endTimeMillis = new Date(endTime).getTime();\r\n    return Math.max(0, endTimeMillis - currentTime);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // ... ostatak vašeg postojećeg useEffect-a ...\r\n\r\n    // Pokretanje intervala za ažuriranje preostalog vremena svake sekunde\r\n    const interval = setInterval(() => {\r\n      const updatedRemainingTimes = {};\r\n\r\n      porudzbine.forEach((porudzbina) => {\r\n        const remainingTime = calculateRemainingTime(porudzbina.vremeIsporuke);\r\n        updatedRemainingTimes[porudzbina.id] = remainingTime;\r\n      });\r\n\r\n      setPreostaloVreme(updatedRemainingTimes);\r\n    }, 1000);\r\n\r\n    return () => {\r\n      clearInterval(interval);\r\n    };\r\n  }, [porudzbine]);\r\n\r\n  // Funkcija za formatiranje preostalog vremena\r\n  const formatRemainingTime = (remainingTime) => {\r\n    const days = Math.floor(remainingTime / (24 * 60 * 60 * 1000));\r\n    const hours = Math.floor(\r\n      (remainingTime % (24 * 60 * 60 * 1000)) / (60 * 60 * 1000)\r\n    );\r\n    const minutes = Math.floor(\r\n      (remainingTime % (60 * 60 * 1000)) / (60 * 1000)\r\n    );\r\n    const seconds = Math.floor((remainingTime % (60 * 1000)) / 1000);\r\n\r\n    return `${days}d ${hours}h ${minutes}m ${seconds}s`;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Prikaz svih porudzbina</h1>\r\n      {loading ? (\r\n        <p>Učitavanje...</p>\r\n      ) : porudzbine.length === 0 ? (\r\n        <p>Trenutno nema porudzbina</p>\r\n      ) : (\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th style={{ color: \"#279980\" }}>Kupac</th>\r\n              <th style={{ color: \"#279980\" }}>Adresa dostave</th>\r\n              <th style={{ color: \"#279980\" }}>Komentar</th>\r\n              <th style={{ color: \"#279980\" }}>Status</th>\r\n              <th style={{ color: \"#279980\" }}>Vreme do isporuke</th>\r\n              \r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {porudzbine.map((porudzbina) => (\r\n              <tr key={porudzbina.id}>\r\n                <td>{getUsernameKorisnika(porudzbina.korisnikId)}</td>\r\n                {/*ovde*/}\r\n                <td>{porudzbina.adresaDostave}</td>\r\n                <td>{porudzbina.komentar}</td>\r\n                <td>{formatDateGetStatus(porudzbina.vremeIsporuke, porudzbina.otkazana)}</td>\r\n                <td>\r\n                  {porudzbina.otkazana\r\n                    ? \"/\"\r\n                    : preostaloVreme[porudzbina.id] > 0\r\n                    ? formatRemainingTime(preostaloVreme[porudzbina.id])\r\n                    : \"Isporuceno\"}\r\n                </td>\r\n                \r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SvePorudzbine;\r\n",[],"C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\helpers\\ProtectedRoute.js",[],[],"C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\DetaljiArtikla.js",[],[],"C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\components\\Korpa.js",[],[],"C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\services\\ArtikalService.js",[],[],"C:\\Users\\irenv\\Desktop\\Web2-Front\\src\\services\\KorisnikService.js",["134"],[],{"ruleId":"135","severity":1,"message":"136","line":20,"column":10,"nodeType":"137","messageId":"138","endLine":20,"endColumn":14},{"ruleId":"135","severity":1,"message":"139","line":21,"column":10,"nodeType":"137","messageId":"138","endLine":21,"endColumn":14},{"ruleId":"135","severity":1,"message":"140","line":4,"column":8,"nodeType":"137","messageId":"138","endLine":4,"endColumn":17},{"ruleId":"135","severity":1,"message":"141","line":11,"column":10,"nodeType":"137","messageId":"138","endLine":11,"endColumn":29},{"ruleId":"135","severity":1,"message":"142","line":17,"column":10,"nodeType":"137","messageId":"138","endLine":17,"endColumn":23},{"ruleId":"135","severity":1,"message":"143","line":80,"column":9,"nodeType":"137","messageId":"138","endLine":80,"endColumn":26},{"ruleId":"135","severity":1,"message":"144","line":3,"column":10,"nodeType":"137","messageId":"138","endLine":3,"endColumn":14},{"ruleId":"135","severity":1,"message":"142","line":11,"column":10,"nodeType":"137","messageId":"138","endLine":11,"endColumn":23},{"ruleId":"135","severity":1,"message":"143","line":87,"column":9,"nodeType":"137","messageId":"138","endLine":87,"endColumn":26},{"ruleId":"135","severity":1,"message":"145","line":7,"column":27,"nodeType":"137","messageId":"138","endLine":7,"endColumn":43},{"ruleId":"146","severity":1,"message":"147","line":77,"column":6,"nodeType":"148","endLine":77,"endColumn":8,"suggestions":"149"},{"ruleId":"135","severity":1,"message":"150","line":11,"column":10,"nodeType":"137","messageId":"138","endLine":11,"endColumn":18},{"ruleId":"135","severity":1,"message":"151","line":11,"column":20,"nodeType":"137","messageId":"138","endLine":11,"endColumn":31},{"ruleId":"135","severity":1,"message":"152","line":28,"column":9,"nodeType":"137","messageId":"138","endLine":28,"endColumn":19},{"ruleId":"135","severity":1,"message":"152","line":8,"column":9,"nodeType":"137","messageId":"138","endLine":8,"endColumn":19},{"ruleId":"135","severity":1,"message":"153","line":8,"column":10,"nodeType":"137","messageId":"138","endLine":8,"endColumn":15},{"ruleId":"135","severity":1,"message":"154","line":15,"column":10,"nodeType":"137","messageId":"138","endLine":15,"endColumn":28},{"ruleId":"135","severity":1,"message":"155","line":16,"column":10,"nodeType":"137","messageId":"138","endLine":16,"endColumn":18},{"ruleId":"135","severity":1,"message":"156","line":16,"column":20,"nodeType":"137","messageId":"138","endLine":16,"endColumn":31},{"ruleId":"135","severity":1,"message":"157","line":32,"column":17,"nodeType":"137","messageId":"138","endLine":32,"endColumn":25},{"ruleId":"135","severity":1,"message":"158","line":35,"column":9,"nodeType":"137","messageId":"138","endLine":35,"endColumn":24},{"ruleId":"135","severity":1,"message":"159","line":150,"column":12,"nodeType":"137","messageId":"138","endLine":150,"endColumn":29},{"ruleId":"135","severity":1,"message":"160","line":295,"column":9,"nodeType":"137","messageId":"138","endLine":295,"endColumn":21},{"ruleId":"135","severity":1,"message":"161","line":17,"column":11,"nodeType":"137","messageId":"138","endLine":17,"endColumn":18},{"ruleId":"146","severity":1,"message":"162","line":81,"column":6,"nodeType":"148","endLine":81,"endColumn":8,"suggestions":"163"},{"ruleId":"135","severity":1,"message":"140","line":1,"column":8,"nodeType":"137","messageId":"138","endLine":1,"endColumn":17},"no-unused-vars","'user' is assigned a value but never used.","Identifier","unusedVar","'temp' is assigned a value but never used.","'jwtDecode' is defined but never used.","'notificationVisible' is assigned a value but never used.","'UploadedImage' is assigned a value but never used.","'handleImageChange' is assigned a value but never used.","'json' is defined but never used.","'setIsLoginFailed' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'decodedToken' and 'token'. Either include them or remove the dependency array.","ArrayExpression",["164"],"'formData' is assigned a value but never used.","'setFormData' is assigned a value but never used.","'formatDate' is assigned a value but never used.","'email' is assigned a value but never used.","'selectedArtikliIds' is assigned a value but never used.","'kolicina' is assigned a value but never used.","'setKolicina' is assigned a value but never used.","'setKorpa' is assigned a value but never used.","'odabraniArtikli' is assigned a value but never used.","'postarinaProdavca' is defined but never used.","'handlePoruci' is assigned a value but never used.","'options' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'token'. Either include it or remove the dependency array.",["165"],{"desc":"166","fix":"167"},{"desc":"168","fix":"169"},"Update the dependencies array to be: [decodedToken, token]",{"range":"170","text":"171"},"Update the dependencies array to be: [token]",{"range":"172","text":"173"},[2429,2431],"[decodedToken, token]",[2530,2532],"[token]"]